<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine</title>

<style>
body{
margin:0;
font-family:Arial;
background:black;
color:white;
text-align:center;
overflow:hidden;
cursor:url('https://cur.cursors-4u.net/nature/nat-10/nat927.cur'),auto;
}

h1{margin-top:80px;}

button{
padding:15px 25px;
font-size:20px;
border:none;
border-radius:10px;
margin:20px;
}

#yesBtn{background:#ff2e63;color:white;}
#noBtn{background:#444;color:white;position:absolute;}

#result{display:none;margin-top:30px;}

.scratchWrap{display:flex;justify-content:center;gap:20px;margin-top:30px;}

canvas{
background:#999;
border-radius:10px;
}

.heart{
position:fixed;
color:red;
font-size:20px;
animation:fall linear infinite;
}
@keyframes fall{
0%{transform:translateY(-10vh);}
100%{transform:translateY(110vh);}
}

.flash{
position:fixed;
top:0;left:0;width:100%;height:100%;
background:white;
opacity:0;
pointer-events:none;
}
</style>
</head>

<body>

<audio autoplay loop>
<source src="https://cdn.pixabay.com/audio/2022/03/15/audio_7b5a6b1b32.mp3">
</audio>

<h1>Do you love me? ‚ù§Ô∏è</h1>
<button id="yesBtn">YES</button>
<button id="noBtn">NO</button>

<div class="flash" id="flash"></div>

<div id="result">
<h1><b>I KNEW YOU LOVE ME ‚ù§Ô∏è</b></h1>

<img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" width="220">

<div class="scratchWrap">
<canvas width="120" height="120"></canvas>
<canvas width="120" height="120"></canvas>
<canvas width="120" height="120"></canvas>
</div>

<div id="poem"></div>
</div>

<script>
const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");

const msgs=["No","Are you sure?","Baby please","Mat bolo no","Please yes","Last chance ü•∫"];
let i=0;

noBtn.onmouseover=noBtn.ontouchstart=()=>{
let x=Math.random()*window.innerWidth*0.8;
let y=Math.random()*window.innerHeight*0.8;
noBtn.style.left=x+"px";
noBtn.style.top=y+"px";
noBtn.innerText=msgs[i++%msgs.length];
};

yesBtn.onclick=()=>{
document.body.style.cursor="auto"; // cursor heart off

document.querySelector("h1").style.display="none";
yesBtn.style.display="none";
noBtn.style.display="none";
document.getElementById("result").style.display="block";

navigator.vibrate([300,100,300]);

let flash=document.getElementById("flash");
flash.style.transition="0.8s";
flash.style.opacity="1";
setTimeout(()=>flash.style.opacity="0",1200);

// hearts rain
for(let i=0;i<40;i++){
let heart=document.createElement("div");
heart.className="heart";
heart.innerText="‚ù§Ô∏è";
heart.style.left=Math.random()*100+"vw";
heart.style.animationDuration=3+Math.random()*3+"s";
document.body.appendChild(heart);
}

// poem typing
const poem=`Tum meri zindagi ka wo hissa ho
jo kabhi plan nahi tha,
par sabse khoobsurat ban gaya.

Tum mere chand the,
tum mere chand ho,
aur tum mere chand hi rahoge. üåô

Aur main har roz tumhe hi choose karta hoon. ‚ù§Ô∏è`;

let j=0;
function typing(){
if(j<poem.length){
document.getElementById("poem").innerHTML+=poem.charAt(j);
j++;
setTimeout(typing,70);
}}
typing();

// SCRATCH CARDS
const messages=["You are my happiness ‚ù§Ô∏è","Forever together üíç","My favourite person üíñ"];
document.querySelectorAll("canvas").forEach((c,index)=>{
let ctx=c.getContext("2d");
ctx.fillStyle="#bbb";
ctx.fillRect(0,0,120,120);

ctx.fillStyle="white";
ctx.font="14px Arial";
ctx.fillText(messages[index],10,60);

c.addEventListener("mousemove",scratch);
c.addEventListener("touchmove",scratch);

function scratch(e){
let rect=c.getBoundingClientRect();
let x=(e.touches?e.touches[0].clientX:e.clientX)-rect.left;
let y=(e.touches?e.touches[0].clientY:e.clientY)-rect.top;
ctx.clearRect(x-10,y-10,20,20);
}
});
};
</script>
</body>
</html>
